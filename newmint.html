<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MintMe Token Minting</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>
    <script src="abi.js"></script> <!-- Replace with the actual ABI file -->
</head>
<body>
    <h1>MintMe Token Minting</h1>
    <p>Enter the number of tokens you want to mint:</p>
    <input type="number" id="mintAmount" placeholder="Amount">
    <button id="mintTokens">Mint Tokens</button>
    <div id="status"></div>

    <script>
        // Initialize Web3
        let web3;
        if (typeof window.ethereum !== 'undefined') {
            web3 = new Web3(window.ethereum);
        } else {
            alert("Web3 provider not found. Please install MetaMask or another Ethereum wallet.");
        }

        // Set the contract address
        const contractAddress = '0x24F1A998d62A110F71AC9f59861003170b563517'; // Replace with your contract's address

        // Load the contract instance
        const contract = new web3.eth.Contract(contractAbi, contractAddress);

        // Event listener for the "Mint Tokens" button
        document.getElementById('mintTokens').addEventListener('click', async () => {
            const mintAmount = document.getElementById('mintAmount').value;
            const statusElement = document.getElementById('status');

            try {
                // Check if MetaMask is connected
                const accounts = await window.ethereum.request({ method: 'eth_accounts' });
                const fromAddress = accounts[0];
                if (!fromAddress) {
                    alert("Please connect your MetaMask wallet.");
                    return;
                }

                // Call the mint function on the contract
                await contract.methods.mint(parseInt(mintAmount)).send({ from: fromAddress });
                statusElement.textContent = `Tokens minted successfully!`;
            } catch (error) {
                statusElement.textContent = `Error: ${error.message}`;
            }
        });
    </script>
</body>
</html>
