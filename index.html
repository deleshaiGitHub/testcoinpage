<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Token Balance Pie Chart</title>
    <!-- Include Web3.js library -->
    <script src="https://cdn.jsdelivr.net/npm/web3@1.6.0/dist/web3.min.js"></script>
    <!-- Include Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>Token Balance Pie Chart</h1>
    <canvas id="tokenChart" width="400" height="400"></canvas>

    <script>
        // Replace this with your function to get token balances for a given wallet
        async function getTokenBalances(walletAddress) {
            // Example function that returns dummy data, replace with actual implementation
            return {
                "Token1": 100,
                "Token2": 150,
                "Token3": 50,
            };
        }

        // Function to render the pie chart
        async function renderPieChart() {
            const walletAddress = '0xYourWalletAddress'; // Replace with the actual wallet address
            const tokenBalances = await getTokenBalances(walletAddress);

            const labels = Object.keys(tokenBalances);
            const data = Object.values(tokenBalances);

            // Get the canvas element and context
            const canvas = document.getElementById('tokenChart');
            const ctx = canvas.getContext('2d');

            // Create the pie chart
            new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.7)',
                            'rgba(54, 162, 235, 0.7)',
                            'rgba(255, 206, 86, 0.7)',
                            // Add more colors as needed
                        ],
                    }],
                },
            });
        }

        // Call the function to render the pie chart
        renderPieChart();
    </script>
</body>
</html>
